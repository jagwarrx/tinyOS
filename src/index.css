/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   DESIGN TOKENS - Refined Terminal Design System
   ============================================ */

:root {
  /* Typography Scale - Refined */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Consolas', 'Menlo', monospace;

  --text-xs: 10px;
  --text-sm: 12px;
  --text-base: 13px;
  --text-md: 15px;
  --text-lg: 18px;
  --text-xl: 20px;
  --text-2xl: 24px;
  --text-3xl: 28px;
  --text-4xl: 32px;

  /* Spacing Scale - Consistent 4px base */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --space-6: 32px;
  --space-8: 48px;
  --space-10: 64px;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-pill: 16px;
  --radius-full: 9999px;
}

/* Custom placeholder color for inputs - Trello theme support */
input::placeholder,
textarea::placeholder {
  color: var(--color-card-text-secondary, var(--color-fg-tertiary));
  opacity: 0.7;
}

/* Global Typography System */
@layer base {
  body {
    font-family: var(--font-mono);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    letter-spacing: 0.01em;
    font-feature-settings: 'liga' 1, 'calt' 1;
  }

  /* Sans-serif for UI elements (headers, labels, buttons) */
  h1, h2, h3, h4, h5, h6,
  .font-sans,
  button:not(.font-mono),
  .page-header,
  .section-header {
    font-family: var(--font-sans);
    letter-spacing: -0.01em; /* Tighter for sans-serif */
  }

  /* Terminal-style font weights */
  .font-light { font-weight: 300; }
  .font-normal { font-weight: 400; }
  .font-medium { font-weight: 500; }
  .font-semibold { font-weight: 600; }
  .font-bold { font-weight: 700; }

  /* Clean, high-contrast text rendering */
  * {
    text-rendering: geometricPrecision;
  }
}

/* Theme System CSS Variables */
/* These are dynamically set by the theme system */

/* Dark Theme (default) - Refined */
:root {
  /* Background colors - Slightly deeper blacks */
  --color-bg-primary: #1a1b1e;
  --color-bg-secondary: #25262b;
  --color-bg-tertiary: #2c2e34;
  --color-bg-elevated: #25262b;

  /* Foreground/text colors */
  --color-fg-primary: #e2e2e3;
  --color-fg-secondary: #a7a9b0;
  --color-fg-tertiary: #7f8490;
  --color-fg-inverse: #1a1b1e;

  /* Border colors - More subtle */
  --color-border-subtle: #2d2e33;
  --color-border-primary: #3a3b40;
  --color-border-secondary: #2f3139;
  --color-border-focus: #b39df3;

  /* Semantic colors */
  --color-semantic-error: #f87171;
  --color-semantic-warning: #fbbf24;
  --color-semantic-success: #4ade80;
  --color-semantic-info: #60a5fa;

  /* Accent colors */
  --color-accent-primary: #b39df3;
  --color-accent-primary-muted: rgba(179, 157, 243, 0.15);
  --color-accent-primary-border: rgba(179, 157, 243, 0.3);
  --color-accent-secondary: #76cce0;
  --color-accent-hover: #c4b0f7;
  --color-accent-active: #9d83ef;

  /* Status colors - More vibrant for scannability */
  --color-status-doing: #60a5fa;
  --color-status-planned: #a78bfa;
  --color-status-blocked: #fbbf24;
  --color-status-done: #4ade80;
  --color-status-overdue: #f87171;
  --color-status-backlog: #7f8490;

  /* Editor colors */
  --color-editor-text: #e2e2e3;
  --color-editor-bg: #1a1b1e;
  --color-editor-bold: #e7c664;
  --color-editor-code: #76cce0;
  --color-editor-highlight: #e7c664;
  --color-editor-highlight-text: #1a1b1e;

  /* Syntax colors */
  --color-syntax-red: #fc5d7c;
  --color-syntax-orange: #f39660;
  --color-syntax-yellow: #e7c664;
  --color-syntax-green: #9ed072;
  --color-syntax-blue: #76cce0;
  --color-syntax-purple: #b39df3;
  --color-syntax-grey: #7f8490;
}

/* Light Theme - High contrast colors for visibility */
:root:not(.dark) {
  /* Background colors - light neutrals */
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f8fafc;
  --color-bg-tertiary: #f1f5f9;
  --color-bg-elevated: #ffffff;

  /* Foreground/text colors - dark for contrast */
  --color-fg-primary: #0f172a;
  --color-fg-secondary: #475569;
  --color-fg-tertiary: #64748b;
  --color-fg-inverse: #ffffff;

  /* Border colors */
  --color-border-primary: #cbd5e1;
  --color-border-secondary: #e2e8f0;
  --color-border-focus: #8b5cf6;

  /* Semantic colors - darker for visibility */
  --color-semantic-error: #dc2626;
  --color-semantic-warning: #d97706;
  --color-semantic-success: #16a34a;
  --color-semantic-info: #0284c7;

  /* Accent colors */
  --color-accent-primary: #8b5cf6;
  --color-accent-secondary: #0284c7;
  --color-accent-hover: #7c3aed;
  --color-accent-active: #6d28d9;

  /* Editor colors */
  --color-editor-text: #0f172a;
  --color-editor-bg: #ffffff;
  --color-editor-bold: #d97706;
  --color-editor-code: #0284c7;
  --color-editor-highlight: #fef08a;
  --color-editor-highlight-text: #0f172a;

  /* Syntax colors - vibrant but readable */
  --color-syntax-red: #dc2626;
  --color-syntax-orange: #ea580c;
  --color-syntax-yellow: #d97706;
  --color-syntax-green: #16a34a;
  --color-syntax-blue: #0284c7;
  --color-syntax-purple: #8b5cf6;
  --color-syntax-grey: #64748b;
}

/* Custom editor styles - Sublime Text inspired */
.editor-input {
  min-height: 200px;
  line-height: 1.6;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  color: var(--color-editor-text);
  background-color: var(--color-editor-bg);
  outline: none;
}

.editor-placeholder {
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
  color: var(--color-fg-tertiary);
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* Remove ALL list styling by default */
.editor-input ul,
.editor-input ol {
  list-style: none;
  padding: 0;
  margin: 0;
}

.editor-input li {
  color: var(--color-editor-text);
}

/* Drag and drop styling */
.editor-input li[draggable="true"] {
  cursor: move;
  transition: opacity 0.2s ease, background-color 0.2s ease;
  pointer-events: auto;
}

.editor-input li[draggable="true"]:hover {
  background-color: rgba(59, 130, 246, 0.05);
  border-radius: 4px;
}

:root:not(.dark) .editor-input li[draggable="true"]:hover {
  background-color: rgba(59, 130, 246, 0.08);
}

.editor-input li[draggable="true"]:active {
  cursor: grabbing;
}

/* Bullet lists - Level 1 */
.editor-input ul > li {
  position: relative;
  padding-left: 24px;
  margin-left: 0;
  margin-bottom: 4px;
}

.editor-input ul > li::before {
  content: "â€¢";
  position: absolute;
  left: 8px;
  color: var(--color-editor-text);
  font-size: 0.7em;
  line-height: 1.8;
  pointer-events: none;
}

/* Nested bullets - consistent 24px indent per level */
.editor-input ul ul {
  margin-top: 4px;
  padding-left: 24px;
}

/* Hide markers from wrapper li elements and don't count them */
.editor-input li:has(> ul:only-child)::before,
.editor-input li:has(> ol:only-child)::before {
  display: none !important;
}

.editor-input li:has(> ul:only-child),
.editor-input li:has(> ol:only-child) {
  counter-increment: none !important;
}

/* Numbered lists - Level 1: 1. 2. 3. */
.editor-input ol {
  counter-reset: item;
}

.editor-input ol > li {
  counter-increment: item;
  position: relative;
  padding-left: 32px;
  margin-bottom: 4px;
}

.editor-input ol > li::before {
  content: counter(item) ". ";
  position: absolute;
  left: 0;
  color: var(--color-editor-text);
  min-width: 24px;
  pointer-events: none;
}

/* Level 2: i. ii. iii. - consistent 24px indent */
.editor-input ol ol {
  counter-reset: item2;
  padding-left: 24px;
  margin-top: 4px;
}

.editor-input ol ol > li {
  counter-increment: item2;
  padding-left: 32px;
}

.editor-input ol ol > li::before {
  content: counter(item2, lower-roman) ". ";
  left: 0;
  min-width: 24px;
}

/* Level 3: a. b. c. - consistent 24px indent */
.editor-input ol ol ol {
  counter-reset: item3;
  padding-left: 24px;
}

.editor-input ol ol ol > li {
  counter-increment: item3;
  padding-left: 32px;
}

.editor-input ol ol ol > li::before {
  content: counter(item3, lower-alpha) ". ";
  left: 0;
  min-width: 24px;
}

/* Level 4 and beyond - consistent pattern */
.editor-input ol ol ol ol {
  counter-reset: item4;
  padding-left: 24px;
}

.editor-input ol ol ol ol > li {
  counter-increment: item4;
  padding-left: 32px;
}

.editor-input ol ol ol ol > li::before {
  content: counter(item4, decimal) ". ";
  left: 0;
  min-width: 24px;
}

/* Text formatting styles */
.editor-input .editor-text-bold,
.editor-input span[data-lexical-text="true"][style*="font-weight: bold"],
.editor-input span[data-lexical-text="true"][style*="font-weight:bold"],
.editor-input strong {
  font-weight: 700 !important;
}

/* Electric blue text (code format repurposed) */
.editor-input .editor-text-blue,
.editor-input code.editor-text-blue {
  color: var(--color-editor-code) !important;
  font-weight: normal !important;
  font-family: inherit !important;
  background: none !important;
  padding: 0 !important;
  border-radius: 0 !important;
  font-size: inherit !important;
}

.editor-input .editor-text-underline {
  text-decoration: underline;
}

.editor-input .editor-text-italic {
  font-style: italic;
}

.editor-input .editor-text-strikethrough {
  text-decoration: line-through;
}

.editor-input .editor-text-highlight {
  background-color: var(--color-editor-highlight);
  color: var(--color-editor-highlight-text);
}

/* Yellow text color for special highlighting */
.editor-input .text-yellow-400 {
  color: var(--color-editor-bold);
}

/* Highlight */
.editor-input mark {
  background-color: var(--color-editor-highlight);
  color: var(--color-editor-highlight-text);
}

/* Smooth transitions for theme switching */
* {
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

/* ============================================
   REFINED COMPONENT STYLES
   ============================================ */

/* Page Header Component */
.page-header {
  padding: var(--space-6) 0 var(--space-5);
  border-bottom: 1px solid var(--color-border-subtle);
  margin-bottom: var(--space-5);
}

.page-header h1 {
  font-size: var(--text-3xl);
  font-weight: 600;
  letter-spacing: -0.02em;
  color: var(--color-fg-primary);
  font-family: var(--font-sans);
}

/* Ref ID Badge - Things3 Pill Style */
.ref-id-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  background: var(--color-accent-primary-muted);
  border: 1px solid var(--color-accent-primary-border);
  border-radius: var(--radius-pill);
  font-size: var(--text-xs);
  font-weight: 500;
  font-family: var(--font-mono);
  letter-spacing: 0.02em;
  color: var(--color-accent-primary);
}

/* Filter Pills */
.filter-pill {
  padding: 6px 14px;
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: 500;
  transition: all 0.15s ease;
  font-family: var(--font-sans);
  cursor: pointer;
  border: 1px solid var(--color-border-primary);
  background: transparent;
  color: var(--color-fg-secondary);
}

.filter-pill:hover {
  background: var(--color-bg-elevated);
  border-color: var(--color-accent-primary);
  color: var(--color-fg-primary);
}

.filter-pill.active {
  background: var(--color-accent-primary);
  border-color: var(--color-accent-primary);
  color: white;
}

/* Table Component - Refined */
.refined-table {
  width: 85%;
  margin: 0 auto;
  border-collapse: collapse;
}

.refined-table th {
  font-size: var(--text-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-fg-secondary);
  padding: var(--space-3) var(--space-4);
  text-align: left;
  border-bottom: 2px solid var(--color-border-primary);
  font-family: var(--font-sans);
}

.refined-table td {
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--color-border-subtle);
  font-size: var(--text-base);
  font-family: var(--font-mono);
}

.refined-table tbody tr {
  height: 40px;
  transition: all 0.15s ease;
  cursor: pointer;
}

.refined-table tbody tr:hover {
  background: var(--color-bg-secondary);
  border-left: 3px solid var(--color-accent-primary);
}

.refined-table tbody tr[data-selected="true"] {
  background: var(--color-bg-tertiary);
  border-left: 3px solid var(--color-accent-primary);
}

/* Section Headers */
.section-header {
  font-size: var(--text-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-fg-secondary);
  margin-bottom: var(--space-4);
  font-family: var(--font-sans);
}

/* Content Container - Centered */
.content-container {
  max-width: 85%;
  margin: 0 auto;
  padding: var(--space-6);
}

/* Note Container - Narrower for reading */
.note-container {
  max-width: 900px;
  margin: 0 auto;
  padding: var(--space-8) var(--space-10);
}

/* Button Refinements */
button.btn-primary {
  padding: 6px 14px;
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  font-family: var(--font-sans);
  transition: all 0.15s ease;
}

button.btn-primary:hover {
  transform: scale(1.02);
}

/* Hover Accent Border (left side) */
.hover-accent:hover {
  border-left: 3px solid var(--color-accent-primary);
  padding-left: calc(var(--space-3) - 3px);
  background: var(--color-bg-secondary);
}

/* ============================================
   STANDARD MODE - CORRECTED FOR ACTUAL DOM STRUCTURE
   ============================================ */

/* ===== GLOBAL LAYOUT ===== */

/* Main App Container - Full screen vertical flex */
.ui-standard {
  /* No need to override - already h-screen flex flex-col in App.jsx */
}

/* Main Content Area - Centers content with max-width */
.ui-standard .main-content-area {
  padding: 2rem;
  gap: 1rem;
}

@media (min-width: 768px) {
  .ui-standard .main-content-area {
    padding: 4rem;
  }
}

/* Primary Note Container - Max dimensions */
.ui-standard .main-content-area > div {
  max-height: 900px;
  max-width: 80rem; /* 7xl */
}

/* When task detail is open - 50% width */
.ui-standard .main-content-area > div.w-1\/2 {
  width: 50%;
  max-width: none;
}

/* ===== TERMINAL ===== */

/* Terminal Expanded - Fixed height */
.ui-standard .h-48 {
  height: 12rem; /* 192px */
}

/* Terminal Collapsed - Fixed height */
.ui-standard .h-12 {
  height: 3rem; /* 48px */
}

/* Terminal Header */
.ui-standard .h-10 {
  height: 2.5rem; /* 40px */
}

/* Terminal Content Padding */
.ui-standard .p-4 {
  padding: 1rem;
}

/* Terminal Font */
.ui-standard .font-mono {
  font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Consolas', 'Menlo', monospace;
}

.ui-standard .text-sm {
  font-size: 0.875rem;
  line-height: 1.25rem;
}

/* ===== NOTE CARD CONTAINER ===== */

/* Note Card - Rounded with shadow, centered */
.ui-standard .note-card-container {
  border-radius: 1rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  max-width: 80rem; /* 7xl - 1280px */
  width: 100%;
  margin: 0 auto;
  border: 1px solid var(--color-border-primary);
  will-change: auto;
  contain: layout;
  padding: 0;
  overflow: hidden;
}

/* Breadcrumb Navigation - Full width with rounded top corners */
.ui-standard .breadcrumb-nav {
  padding: 0.75rem 1.5rem; /* py-3 px-6 */
  gap: 0.75rem;
  margin: 0 !important;
  width: 100% !important;
  border-bottom: 1px solid var(--color-border-primary);
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
}

/* Note Title Section - Full width, left-aligned */
.ui-standard .note-title-section {
  padding: 1.5rem;
  padding-bottom: 1rem;
  margin: 0 !important;
  width: 100% !important;
  display: flex;
  justify-content: flex-start;
  align-items: center;
}

.ui-standard .note-title-section input {
  font-size: 2.5rem; /* Larger title - 40px */
  font-weight: 600;
  min-width: 100px;
  text-align: left;
}

/* Editor Container Padding */
.ui-standard .editor-container {
  padding: 1.5rem; /* p-6 */
  border-bottom-left-radius: 1rem;
  border-bottom-right-radius: 1rem;
}

/* Editor Input - Reduced font size for content */
.ui-standard .editor-input {
  font-size: 18px !important;
  line-height: 1.8 !important;
}

/* ===== TASK LIST ===== */

/* Task List Spacing (standard non-table mode) */
.ui-standard .space-y-1 > * + * {
  margin-top: 0.25rem;
}

/* Task Row */
.ui-standard .group.flex.items-center.gap-3.py-1 {
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
  padding-left: 0.5rem;
  padding-right: 0.5rem;
  gap: 0.75rem;
  border-radius: 0.25rem;
}

/* Checkbox Size */
.ui-standard .w-4.h-4 {
  width: 1rem;
  height: 1rem;
}

/* ===== LOG PAGE ===== */

/* Log Container - Full width for standard mode */
.ui-standard .log-page-container {
  max-width: 100%;
  width: 100%;
  margin: 0 auto;
}

/* Log Title */
.ui-standard .log-page-container .text-2xl {
  font-size: 1.5rem;
  line-height: 2rem;
  margin-bottom: 0.75rem;
}

/* Filter Bar - Full width */
.ui-standard .log-page-container > div > div.mb-3 {
  margin-bottom: 0.75rem;
  padding: 0.75rem 0.5rem;
  border-radius: 0.5rem;
  gap: 0.75rem;
  width: 100%;
}

/* Date Header - Sticky */
.ui-standard .sticky.top-0 {
  position: sticky;
  top: 0;
  backdrop-filter: blur(4px);
}

/* Log Entry - Increased font sizes */
.ui-standard .flex.items-start.gap-4.px-2 {
  padding: 0.5rem;
  border-radius: 0.25rem;
  gap: 1rem;
}

/* Log entry text - larger font */
.ui-standard .log-page-container .text-sm {
  font-size: 0.9375rem !important; /* 15px */
}

.ui-standard .log-page-container .text-xs {
  font-size: 0.8125rem !important; /* 13px */
}

/* Tags inline with content - remove forced new line */
.ui-standard .log-page-container .flex.flex-wrap.gap-1 {
  display: inline-flex !important;
  margin-top: 0 !important;
  margin-left: 0.5rem;
}

/* Time Stamp */
.ui-standard .min-w-\[60px\] {
  min-width: 3.75rem;
}

/* ===== PROJECTS LIST ===== */

/* Projects Grid */
.ui-standard .grid.grid-cols-1 {
  gap: 1rem;
}

.ui-standard .grid-cols-1 {
  grid-template-columns: repeat(1, minmax(0, 1fr));
}

@media (min-width: 768px) {
  .ui-standard .md\:grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 1024px) {
  .ui-standard .lg\:grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

/* Project Card */
.ui-standard .bg-bg-primary.border.rounded-lg.p-4 {
  padding: 1rem;
  border-radius: 0.5rem;
}

.ui-standard .bg-bg-primary.border.rounded-lg.p-4:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* Progress Bar */
.ui-standard .h-1\.5 {
  height: 0.375rem;
}

.ui-standard .rounded-full {
  border-radius: 9999px;
}

/* ===== KANBAN BOARD ===== */

/* Kanban Container */
.ui-standard .kanban-container,
.ui-standard .h-full.flex.gap-6.p-6 {
  gap: 1.5rem;
  padding: 1.5rem;
}

/* Kanban Column */
.ui-standard .w-96 {
  width: 24rem; /* 384px */
}

.ui-standard .rounded-xl {
  border-radius: 0.75rem;
}

.ui-standard .p-5 {
  padding: 1.25rem;
}

/* Kanban Card */
.ui-standard .px-2\.5.py-4 {
  padding-left: 0.625rem;
  padding-right: 0.625rem;
  padding-top: 1rem;
  padding-bottom: 1rem;
}

.ui-standard .mb-2 {
  margin-bottom: 0.5rem;
}

/* Kanban Drop Zone */
.ui-standard .rounded-lg.p-2 {
  border-radius: 0.5rem;
  padding: 0.5rem;
}

/* ===== INBOX LIST ===== */

/* Inbox Item */
.ui-standard .inbox-item,
.ui-standard .bg-bg-elevated.border.rounded-lg.p-4 {
  padding: 1rem;
  border-radius: 0.5rem;
}

/* ===== TODAY PAGE ===== */

/* Reminders Section */
.ui-standard .border-b.pb-4.mb-4 {
  border-bottom-width: 1px;
  padding-bottom: 1rem;
  margin-bottom: 1rem;
}

/* Reminder Item */
.ui-standard .py-2.px-3.rounded.border {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
  padding-left: 0.75rem;
  padding-right: 0.75rem;
  border-radius: 0.25rem;
}

/* Toggle Button - Bottom Right */
.ui-standard .absolute.bottom-6.right-6 {
  position: absolute;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: 10;
}

/* Split View Divider */
.ui-standard .w-1 {
  width: 0.25rem;
}

.ui-standard .mx-4 {
  margin-left: 1rem;
  margin-right: 1rem;
}

/* ===== BADGES & BUTTONS ===== */

/* Small Badges */
.ui-standard .px-2.py-0\.5 {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
  padding-top: 0.125rem;
  padding-bottom: 0.125rem;
}

.ui-standard .text-xs {
  font-size: 0.75rem;
  line-height: 1rem;
}

/* Icon Sizes */
.ui-standard svg[width="12"],
.ui-standard svg[height="12"] {
  width: 0.75rem;
  height: 0.75rem;
}

.ui-standard svg[width="14"],
.ui-standard svg[height="14"] {
  width: 0.875rem;
  height: 0.875rem;
}

.ui-standard svg[width="16"],
.ui-standard svg[height="16"] {
  width: 1rem;
  height: 1rem;
}

.ui-standard svg[width="18"],
.ui-standard svg[height="18"] {
  width: 1.125rem;
  height: 1.125rem;
}

.ui-standard svg[width="20"],
.ui-standard svg[height="20"] {
  width: 1.25rem;
  height: 1.25rem;
}

/* ===== TYPOGRAPHY ===== */

.ui-standard .text-base {
  font-size: 1rem;
  line-height: 1.5rem;
}

.ui-standard .text-lg {
  font-size: 1.125rem;
  line-height: 1.75rem;
}

.ui-standard .text-xl {
  font-size: 1.25rem;
  line-height: 1.75rem;
}

.ui-standard .text-2xl {
  font-size: 1.5rem;
  line-height: 2rem;
}

.ui-standard .text-3xl {
  font-size: 1.875rem;
  line-height: 2.25rem;
}

/* ===== FONT WEIGHTS ===== */

.ui-standard .font-light {
  font-weight: 300;
}

.ui-standard .font-normal {
  font-weight: 400;
}

.ui-standard .font-medium {
  font-weight: 500;
}

.ui-standard .font-semibold {
  font-weight: 600;
}

.ui-standard .font-bold {
  font-weight: 700;
}

/* ===== SPACING UTILITIES ===== */

/* Padding overrides - balanced spacing */
.ui-standard .p-1 { padding: 0.25rem !important; }
.ui-standard .p-2 { padding: 0.5rem !important; }
.ui-standard .p-3 { padding: 0.75rem !important; }
.ui-standard .p-4 { padding: 1rem !important; }
.ui-standard .p-6 { padding: 1.5rem !important; }
.ui-standard .p-8 { padding: 2rem !important; }
.ui-standard .p-12 { padding: 3rem !important; }

.ui-standard .px-1 { padding-left: 0.25rem !important; padding-right: 0.25rem !important; }
.ui-standard .px-2 { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }
.ui-standard .px-3 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
.ui-standard .px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }
.ui-standard .px-6 { padding-left: 1.5rem !important; padding-right: 1.5rem !important; }
.ui-standard .px-8 { padding-left: 2rem !important; padding-right: 2rem !important; }

.ui-standard .py-1 { padding-top: 0.25rem !important; padding-bottom: 0.25rem !important; }
.ui-standard .py-2 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
.ui-standard .py-3 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
.ui-standard .py-4 { padding-top: 1rem !important; padding-bottom: 1rem !important; }
.ui-standard .py-6 { padding-top: 1.5rem !important; padding-bottom: 1.5rem !important; }
.ui-standard .py-8 { padding-top: 2rem !important; padding-bottom: 2rem !important; }

/* Standard gap overrides - balanced spacing */
.ui-standard .gap-1 { gap: 0.25rem !important; }
.ui-standard .gap-2 { gap: 0.5rem !important; }
.ui-standard .gap-3 { gap: 0.75rem !important; }
.ui-standard .gap-4 { gap: 1rem !important; }
.ui-standard .gap-5 { gap: 1.25rem !important; }
.ui-standard .gap-6 { gap: 1.5rem !important; }
.ui-standard .gap-8 { gap: 2rem !important; }

/* Standard margin overrides */
.ui-standard .m-2 { margin: 0.5rem !important; }
.ui-standard .m-3 { margin: 0.75rem !important; }
.ui-standard .m-4 { margin: 1rem !important; }
.ui-standard .m-6 { margin: 1.5rem !important; }

.ui-standard .mt-2 { margin-top: 0.5rem !important; }
.ui-standard .mt-3 { margin-top: 0.75rem !important; }
.ui-standard .mt-4 { margin-top: 1rem !important; }
.ui-standard .mt-6 { margin-top: 1.5rem !important; }

.ui-standard .mb-2 { margin-bottom: 0.5rem !important; }
.ui-standard .mb-3 { margin-bottom: 0.75rem !important; }
.ui-standard .mb-4 { margin-bottom: 1rem !important; }
.ui-standard .mb-6 { margin-bottom: 1.5rem !important; }

/* Rounded corners - polished modern feel */
.ui-standard .rounded { border-radius: var(--border-radius-sm) !important; }
.ui-standard .rounded-sm { border-radius: var(--border-radius-sm) !important; }
.ui-standard .rounded-md { border-radius: var(--border-radius-md) !important; }
.ui-standard .rounded-lg { border-radius: var(--border-radius-lg) !important; }
.ui-standard .rounded-xl { border-radius: 10px !important; }
.ui-standard .rounded-2xl { border-radius: 12px !important; }
.ui-standard .rounded-3xl { border-radius: 16px !important; }

/* ===== SHADOWS ===== */

.ui-standard .shadow-sm {
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.ui-standard .shadow {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

.ui-standard .shadow-md {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.ui-standard .shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.ui-standard .shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* ===== STANDARD UI COMPONENT SIZING ===== */

/* Standard buttons - comfortable click targets */
.ui-standard button {
  min-height: 32px;
}

.ui-standard button.text-xs {
  min-height: 28px;
}

.ui-standard button.text-sm {
  min-height: 30px;
}

/* Standard inputs - comfortable size */
.ui-standard input,
.ui-standard textarea,
.ui-standard select {
  font-size: 15px;
  padding: 0.5rem 0.75rem;
  border-radius: var(--border-radius-md);
}

.ui-standard input[type="text"],
.ui-standard input[type="search"] {
  min-height: 36px;
}

/* Modal and card spacing */
.ui-standard .modal,
.ui-standard .card {
  border-radius: var(--border-radius-lg);
}

/* Icon sizing - balanced */
.ui-standard svg {
  stroke-width: 2;
}

/* Comfortable line heights for readability */
.ui-standard p,
.ui-standard li,
.ui-standard span {
  line-height: var(--line-height-normal);
}

.ui-standard h1,
.ui-standard h2,
.ui-standard h3 {
  line-height: 1.4;
}

/* Increased line height for all text elements */
.ui-standard {
  line-height: 1.7;
}

/* Task list items need more vertical breathing room */
.ui-standard .task-item {
  line-height: 1.6;
}

/* Log entries */
.ui-standard .log-entry,
.ui-standard .log-entry p {
  line-height: 1.7;
}

/* Editor content */
.ui-standard .editor-input {
  line-height: 1.8;
}

/* Card content */
.ui-standard .project-card,
.ui-standard .inbox-item {
  line-height: 1.6;
}

/* ============================================
   HACKER / TERMINAL UI MODE
   Dense, information-rich interface
   ============================================ */

.ui-hacker {
  /* Compact sizing variables */
  --font-size-base: 12px;
  --font-size-sm: 11px;
  --font-size-xs: 10px;
  --font-size-lg: 13px;
  --font-size-xl: 14px;

  --spacing-unit: 0.75rem;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.75rem;
  --spacing-lg: 1rem;
  --spacing-xl: 1.25rem;

  --line-height-normal: 1.4;
  --line-height-relaxed: 1.5;

  /* Remove all rounded corners */
  --border-radius: 0px;
}

/* Apply compact sizing to body */
.ui-hacker {
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
}

/* Ensure monospace box-drawing characters render correctly */
.ui-hacker pre,
.ui-hacker code,
.ui-hacker [style*="Monaco"],
.ui-hacker [style*="Consolas"],
.ui-hacker [style*="monospace"] {
  font-variant-ligatures: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  letter-spacing: 0;
  word-spacing: 0;
}

/* Hacker mode table styling */
.ui-hacker .hacker-table {
  border-collapse: collapse;
  width: 100%;
  font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
  font-size: 13px;
  table-layout: fixed;
}

/* Make note/task containers wider in hacker mode */
.ui-hacker .max-w-4xl,
.ui-hacker .max-w-5xl,
.ui-hacker .max-w-6xl {
  max-width: 100% !important;
}

/* Wider content area for hacker mode */
.ui-hacker main,
.ui-hacker .main-content {
  max-width: 95% !important;
  margin: 0 auto !important;
}

/* Make table 40% narrower while keeping note full width */
.ui-hacker .hacker-table {
  width: 60% !important;
  margin: 0 auto;
}

/* Center title section and filters in hacker mode */
.ui-hacker .note-title-section {
  display: flex;
  justify-content: center;
}

.ui-hacker .filter-bar-container {
  justify-content: center !important;
}

.ui-hacker .hacker-table th,
.ui-hacker .hacker-table td {
  border: 2px solid var(--color-fg-tertiary);
  padding: 8px 12px;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Disable ellipsis for #, STATUS, TYPE, and DUE columns */
.ui-hacker .hacker-table td:nth-child(2), /* # column */
.ui-hacker .hacker-table td:nth-child(4), /* STATUS column */
.ui-hacker .hacker-table td:nth-child(5), /* TYPE column */
.ui-hacker .hacker-table td:nth-child(6)  /* DUE column */
{
  overflow: visible;
  text-overflow: clip;
  white-space: normal;
}

.ui-hacker .hacker-table th {
  font-weight: 700;
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 0.05em;
  color: var(--color-fg-primary);
}

.ui-hacker .hacker-table tbody tr {
  transition: background-color 0.15s ease;
}

.ui-hacker .hacker-table tbody tr:hover {
  background-color: var(--color-bg-tertiary);
}

/* Selected task highlighting in hacker mode table */
.ui-hacker .hacker-table tbody tr[data-selected="true"] {
  background-color: var(--color-bg-tertiary) !important;
  border-left: 4px solid var(--color-accent-primary) !important;
  border-right: 1px solid var(--color-accent-primary) !important;
}

/* Preserve colors for table cell buttons (status, due, type) */
.ui-hacker .hacker-table td button {
  background: none !important;
  border: none !important;
  padding: 0 !important;
}

/* Status colors - preserve syntax highlighting */
.ui-hacker .hacker-table .text-syntax-blue {
  color: var(--color-syntax-blue) !important;
}

.ui-hacker .hacker-table .text-syntax-purple {
  color: var(--color-syntax-purple) !important;
}

.ui-hacker .hacker-table .text-syntax-yellow {
  color: var(--color-syntax-yellow) !important;
}

.ui-hacker .hacker-table .text-syntax-red {
  color: var(--color-syntax-red) !important;
}

.ui-hacker .hacker-table .text-syntax-green {
  color: var(--color-syntax-green) !important;
}

.ui-hacker .hacker-table .text-syntax-orange {
  color: var(--color-syntax-orange) !important;
}

.ui-hacker .hacker-table .text-fg-secondary {
  color: var(--color-fg-secondary) !important;
}

.ui-hacker .hacker-table .text-fg-tertiary {
  color: var(--color-fg-tertiary) !important;
}

/* Compact spacing for common elements */
.ui-hacker .p-2 { padding: 0.375rem !important; }
.ui-hacker .p-3 { padding: 0.5rem !important; }
.ui-hacker .p-4 { padding: 0.625rem !important; }
.ui-hacker .p-6 { padding: 0.875rem !important; }

.ui-hacker .px-2 { padding-left: 0.375rem !important; padding-right: 0.375rem !important; }
.ui-hacker .px-3 { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }
.ui-hacker .px-4 { padding-left: 0.625rem !important; padding-right: 0.625rem !important; }
.ui-hacker .px-6 { padding-left: 0.875rem !important; padding-right: 0.875rem !important; }

.ui-hacker .py-2 { padding-top: 0.375rem !important; padding-bottom: 0.375rem !important; }
.ui-hacker .py-3 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
.ui-hacker .py-4 { padding-top: 0.625rem !important; padding-bottom: 0.625rem !important; }

.ui-hacker .gap-2 { gap: 0.375rem !important; }
.ui-hacker .gap-3 { gap: 0.5rem !important; }
.ui-hacker .gap-4 { gap: 0.625rem !important; }

/* Compact text sizes */
.ui-hacker .text-xs { font-size: var(--font-size-xs) !important; }
.ui-hacker .text-sm { font-size: var(--font-size-sm) !important; }
.ui-hacker .text-base { font-size: var(--font-size-base) !important; }
.ui-hacker .text-lg { font-size: var(--font-size-lg) !important; }
.ui-hacker .text-xl { font-size: var(--font-size-xl) !important; }

/* ===== HACKER MODE - TERMINAL ===== */

/* Terminal Expanded - Fixed height (same as standard) */
.ui-hacker .h-48 {
  height: 12rem; /* 192px */
}

/* Terminal Collapsed - Fixed height */
.ui-hacker .h-12 {
  height: 3rem; /* 48px */
}

/* Terminal Header */
.ui-hacker .h-10 {
  height: 2.5rem; /* 40px */
}

/* Terminal Content Padding - use hacker compact padding */
.ui-hacker .flex-1.overflow-y-auto.p-4.font-mono {
  padding: 0.625rem !important; /* p-4 in hacker mode */
}

/* Terminal Font */
.ui-hacker .font-mono {
  font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Consolas', 'Menlo', monospace;
}

/* ===== HACKER MODE - LOG PAGE ===== */

/* Log page - full width */
.ui-hacker .log-page-container {
  max-width: 100% !important;
  width: 100% !important;
}

/* Log entry text - larger font for readability */
.ui-hacker .log-page-container .text-sm {
  font-size: 13px !important;
}

.ui-hacker .log-page-container .text-xs {
  font-size: 11px !important;
}

/* Tags inline with content - remove forced new line */
.ui-hacker .log-page-container .flex.flex-wrap.gap-1 {
  display: inline-flex !important;
  margin-top: 0 !important;
  margin-left: 0.5rem;
}

/* ===== HACKER MODE - NOTE VIEW ===== */

/* Remove rounded corners globally FIRST */
.ui-hacker * {
  border-radius: 0 !important;
}

/* Note card - centered and narrower - only for actual notes with editor */
.ui-hacker .note-card-container:has(.editor-container) {
  max-width: 60% !important;
  width: 100%;
  margin: 0 auto !important;
  border: 2px solid var(--color-border-primary) !important;
  will-change: auto;
  contain: layout;
  padding: 0 !important;
  border-radius: 1rem !important;
}

/* Breadcrumb Navigation - Full width with rounded top corners (EXCEPTION to no-rounded rule) */
.ui-hacker .breadcrumb-nav {
  padding: 1rem 3rem !important;
  margin: 0 !important;
  width: 100% !important;
  border-bottom: 2px solid var(--color-border-primary) !important;
  border-top-left-radius: 1rem !important;
  border-top-right-radius: 1rem !important;
  border-bottom-left-radius: 0 !important;
  border-bottom-right-radius: 0 !important;
}

/* Note Title Section - Full width, left-aligned */
.ui-hacker .note-title-section {
  padding: 1.25rem 3rem !important;
  margin: 0 !important;
  width: 100% !important;
  border-radius: 0 !important;
  display: flex !important;
  justify-content: flex-start !important;
  align-items: center !important;
}

.ui-hacker .note-title-section input {
  font-size: 2rem !important; /* Larger title - 32px */
  font-weight: 600 !important;
  text-align: left !important;
}

/* Editor container - add padding back here instead of note-card */
.ui-hacker .editor-container {
  padding: 1.25rem 3rem !important;
  border-bottom-left-radius: 1rem !important;
  border-bottom-right-radius: 1rem !important;
}

/* Editor font size - reduced for content */
.ui-hacker .editor-input {
  font-size: 15px !important;
  line-height: 1.6 !important;
}

/* Typography hierarchy - Bold for headings/labels */
.ui-hacker h1,
.ui-hacker h2,
.ui-hacker h3,
.ui-hacker h4,
.ui-hacker label,
.ui-hacker .font-semibold,
.ui-hacker .font-bold {
  font-weight: 700 !important;
  letter-spacing: 0.02em;
}

/* Regular weight for secondary text */
.ui-hacker .text-xs,
.ui-hacker .text-sm:not(.font-medium):not(.font-semibold):not(.font-bold),
.ui-hacker p,
.ui-hacker span:not(.font-medium):not(.font-semibold):not(.font-bold) {
  font-weight: 400;
}

/* Remove all box shadows */
.ui-hacker *,
.ui-hacker *:hover,
.ui-hacker *:focus {
  box-shadow: none !important;
}

/* Simple border-based focus states */
.ui-hacker *:focus {
  outline: 2px solid var(--color-border-focus);
  outline-offset: -2px;
}

/* Text-based buttons (no background fills) */
.ui-hacker button:not(.primary-action) {
  background: transparent !important;
  border: 1px solid var(--color-border-primary);
}

.ui-hacker button:not(.primary-action):hover {
  border-color: var(--color-border-focus);
  background: transparent !important;
}

/* Primary actions keep their background - preserved from transparent override */

/* List items with text-based indicators */
.ui-hacker .task-item::before {
  content: "[ ]";
  margin-right: 8px;
  color: var(--color-border-primary);
}

.ui-hacker .task-item.completed::before {
  content: "[Ã—]";
  color: var(--color-syntax-green);
}

/* Tab navigation - text underline only */
.ui-hacker .tab-nav {
  border-bottom: 1px solid var(--color-border-primary);
}

.ui-hacker .tab-nav button {
  border: none;
  border-bottom: 2px solid transparent;
  background: transparent;
}

.ui-hacker .tab-nav button.active {
  border-bottom-color: var(--color-accent-primary);
  font-weight: 700;
}

/* Cards/panels - border only, no background differentiation */
.ui-hacker .card,
.ui-hacker .panel {
  border: 1px solid var(--color-border-primary);
  background: transparent;
}

/* Inputs - simple borders */
.ui-hacker input,
.ui-hacker textarea,
.ui-hacker select {
  border: 1px solid var(--color-border-primary);
  background: var(--color-bg-primary);
}

.ui-hacker input:focus,
.ui-hacker textarea:focus,
.ui-hacker select:focus {
  border-color: var(--color-border-focus);
  outline: none;
}

/* Status badges - text-based with brackets */
.ui-hacker .status-badge {
  padding: 2px 8px;
  border: 1px solid currentColor;
  background: transparent !important;
  font-weight: 700;
  letter-spacing: 0.05em;
}

/* Modal - full border, no shadow */
.ui-hacker .modal {
  border: 2px solid var(--color-border-primary);
}

/* Icons - reduce visual weight */
.ui-hacker svg {
  stroke-width: 1.5;
}

/* Progress bars - ASCII style */
.ui-hacker .progress-bar {
  border: 1px solid var(--color-border-primary);
  background: transparent;
}

.ui-hacker .progress-fill {
  background: var(--color-accent-primary);
}

/* Sidebar - clear separation with border */
.ui-hacker .sidebar {
  border-right: 1px solid var(--color-border-primary);
}

/* Table-like layouts for data */
.ui-hacker .data-row {
  border-bottom: 1px solid var(--color-border-secondary);
  padding: 8px 0;
}

.ui-hacker .data-label {
  font-weight: 700;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
}

.ui-hacker .data-value {
  font-weight: 400;
}

/* Terminal-style timestamps and metadata */
.ui-hacker .timestamp,
.ui-hacker .metadata {
  font-weight: 400;
  font-size: 0.75rem;
  color: var(--color-fg-tertiary);
  font-family: inherit;
}

/* Remove hover elevation effects */
.ui-hacker *:hover {
  transform: none !important;
}

/* Scrollbar - minimal */
.ui-hacker *::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.ui-hacker *::-webkit-scrollbar-track {
  background: transparent;
}

.ui-hacker *::-webkit-scrollbar-thumb {
  background: var(--color-border-primary);
  border: none;
}

.ui-hacker *::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-focus);
}

/* ============================================
   INBOX LIST - HACKER MODE OVERRIDES
   Compact, terminal-style inbox interface
   ============================================ */

/* Compact container padding with centering */
.ui-hacker .inbox-list-container {
  padding: 0.75rem !important;
  max-width: 96% !important;
  margin: 0 auto !important;
}

/* Terminal-style header with bracket notation */
.ui-hacker .inbox-header {
  font-size: 11px !important;
  margin-bottom: 0.5rem !important;
  letter-spacing: 0.1em !important;
  color: var(--color-fg-primary) !important;
  font-weight: 700 !important;
}

.ui-hacker .inbox-header::before {
  content: "[";
  color: var(--color-accent-primary);
  margin-right: 0.25rem;
}

.ui-hacker .inbox-header::after {
  content: "]";
  color: var(--color-accent-primary);
  margin-left: 0.25rem;
}

/* Tighter spacing between inbox items */
.ui-hacker .inbox-items-list {
  gap: 0.5rem !important;
}

/* Compact inbox item cards */
.ui-hacker .inbox-item {
  padding: 0.5rem 0.75rem !important;
  background: transparent !important;
  border-width: 1px !important;
  transition: border-color 0.15s ease !important;
}

.ui-hacker .inbox-item:hover {
  background: var(--color-bg-tertiary) !important;
  border-color: var(--color-border-focus) !important;
}

/* Compact title with tighter spacing - matches task table */
.ui-hacker .inbox-item h3 {
  font-size: 13px !important;
  font-weight: 600 !important;
  margin-bottom: 0.25rem !important;
  font-family: 'Monaco', 'Menlo', 'Consolas', monospace !important;
}

/* Terminal-style note count badge */
.ui-hacker .inbox-note-count {
  background: transparent !important;
  border-width: 1px !important;
  border-color: var(--color-accent-primary) !important;
  padding: 1px 6px !important;
  font-size: 10px !important;
  letter-spacing: 0.05em !important;
}

/* Compact metadata */
.ui-hacker .inbox-metadata {
  font-size: 10px !important;
  gap: 0.25rem !important;
}

.ui-hacker .inbox-metadata svg {
  width: 10px !important;
  height: 10px !important;
}

/* ============================================
   DROPDOWNS & BUTTONS - HACKER MODE OVERRIDES
   Terminal-style with high contrast borders
   ============================================ */

/* All dropdown containers in hacker mode */
.ui-hacker [class*="absolute"][class*="bg-bg-elevated"],
.ui-hacker .absolute[class*="border"] {
  background: var(--color-bg-primary) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
}

/* Dropdown menu items - consistent styling */
.ui-hacker [class*="absolute"][class*="bg-bg-elevated"] button,
.ui-hacker .absolute[class*="border"] button {
  font-size: 11px !important;
  padding: 0.5rem 0.75rem !important;
  font-weight: 600 !important;
  color: var(--color-fg-primary) !important;
  background: transparent !important;
  border-bottom: 1px solid var(--color-border-secondary) !important;
  border-radius: 0 !important;
}

.ui-hacker [class*="absolute"][class*="bg-bg-elevated"] button:last-child,
.ui-hacker .absolute[class*="border"] button:last-child {
  border-bottom: none !important;
}

.ui-hacker [class*="absolute"][class*="bg-bg-elevated"] button:hover,
.ui-hacker .absolute[class*="border"] button:hover {
  background: var(--color-bg-tertiary) !important;
  border-left: 3px solid var(--color-accent-primary) !important;
  padding-left: calc(0.75rem - 3px) !important;
}

/* Dropdown icons - ensure visibility */
.ui-hacker [class*="absolute"][class*="bg-bg-elevated"] svg,
.ui-hacker .absolute[class*="border"] svg {
  flex-shrink: 0 !important;
  opacity: 1 !important;
}

/* Primary action buttons (Create New, etc) */
.ui-hacker button.bg-accent-primary:not(.text-white) {
  background: transparent !important;
  border: 1px solid var(--color-accent-primary) !important;
  color: var(--color-accent-primary) !important;
  font-weight: 700 !important;
  letter-spacing: 0.05em !important;
}

.ui-hacker button.bg-accent-primary:not(.text-white):hover {
  background: var(--color-accent-primary) !important;
  color: var(--color-fg-inverse) !important;
}

/* Filter buttons - active state (filled) */
.ui-hacker button.bg-accent-primary.text-white,
.ui-hacker .bg-accent-primary.text-white {
  background: var(--color-accent-primary) !important;
  color: var(--color-fg-inverse) !important;
  border: 1px solid var(--color-accent-primary) !important;
  font-weight: 700 !important;
  letter-spacing: 0.05em !important;
}

/* Filter buttons - inactive state (outlined) */
.ui-hacker button.bg-bg-tertiary.text-fg-secondary,
.ui-hacker .bg-bg-tertiary.text-fg-secondary {
  background: transparent !important;
  border: 1px solid var(--color-border-primary) !important;
  color: var(--color-fg-secondary) !important;
  font-weight: 600 !important;
}

.ui-hacker button.bg-bg-tertiary.text-fg-secondary:hover,
.ui-hacker .bg-bg-tertiary.text-fg-secondary:hover {
  background: var(--color-bg-tertiary) !important;
  border-color: var(--color-border-focus) !important;
  color: var(--color-fg-primary) !important;
}

/* Inbox section headers */
.ui-hacker .px-6.py-3.border-b h3 {
  font-size: 11px !important;
  font-weight: 700 !important;
  letter-spacing: 0.1em !important;
}

/* Inbox items in unified list - make more compact */
.ui-hacker .space-y-2 > .bg-bg-elevated {
  padding: 0.5rem !important;
  background: transparent !important;
  border-width: 1px !important;
  font-family: 'Monaco', 'Menlo', 'Consolas', monospace !important;
}

.ui-hacker .space-y-2 > .bg-bg-elevated:hover {
  background: var(--color-bg-tertiary) !important;
}

.ui-hacker .space-y-2 > .bg-bg-elevated h3 {
  font-size: 13px !important;
  font-weight: 600 !important;
  font-family: 'Monaco', 'Menlo', 'Consolas', monospace !important;
}

/* Compact action buttons on inbox items */
.ui-hacker .space-y-2 > .bg-bg-elevated button {
  padding: 0.25rem !important;
}

.ui-hacker .space-y-2 > .bg-bg-elevated button svg {
  width: 14px !important;
  height: 14px !important;
}

/* Filter bar in inbox - more compact and centered */
.ui-hacker .px-6.py-4.border-b.bg-bg-secondary,
.ui-hacker .px-6.py-3.border-b.bg-bg-secondary {
  padding: 0.625rem 0.75rem !important;
  max-width: 96% !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

.ui-hacker .px-6.py-4.border-b.bg-bg-secondary button,
.ui-hacker .px-6.py-3.border-b.bg-bg-secondary button {
  padding: 0.375rem 0.5rem !important;
  font-size: 10px !important;
}

.ui-hacker .px-6.py-4.border-b.bg-bg-secondary svg,
.ui-hacker .px-6.py-3.border-b.bg-bg-secondary svg {
  width: 12px !important;
  height: 12px !important;
}

/* Inbox main content area - centered with extra top padding */
.ui-hacker .flex-1.overflow-y-auto.p-6.pt-8 {
  max-width: 96% !important;
  margin-left: auto !important;
  margin-right: auto !important;
  padding: 2rem 0.75rem 0.75rem !important;
}

/* Floating Create New button in hacker mode */
.ui-hacker .absolute.top-6.right-6 button {
  font-size: 11px !important;
  padding: 0.5rem 0.625rem !important;
  font-weight: 700 !important;
}

/* Custom Scrollbar - Light Theme */
:root:not(.dark) * {
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 #f8fafc;
}

:root:not(.dark) *::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

:root:not(.dark) *::-webkit-scrollbar-track {
  background: #f8fafc;
  border-radius: 6px;
}

:root:not(.dark) *::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 6px;
  border: 2px solid #f8fafc;
}

:root:not(.dark) *::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

:root:not(.dark) *::-webkit-scrollbar-corner {
  background: #f8fafc;
}

/* Custom Scrollbar - Dark Theme */
.dark * {
  scrollbar-width: thin;
  scrollbar-color: #4b5563 #1f2937;
}

.dark *::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.dark *::-webkit-scrollbar-track {
  background: #1f2937;
  border-radius: 6px;
}

.dark *::-webkit-scrollbar-thumb {
  background: #4b5563;
  border-radius: 6px;
  border: 2px solid #1f2937;
}

.dark *::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
}

.dark *::-webkit-scrollbar-corner {
  background: #1f2937;
}

/* Note navigation animations */
@keyframes slideFromTop {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideFromBottom {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideFromLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideFromRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-slide-from-top {
  animation: slideFromTop 0.3s ease-out;
}

.animate-slide-from-bottom {
  animation: slideFromBottom 0.3s ease-out;
}

.animate-slide-from-left {
  animation: slideFromLeft 0.3s ease-out;
}

.animate-slide-from-right {
  animation: slideFromRight 0.3s ease-out;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Saved badge animation - subtle and unobtrusive */
@keyframes savedBadgeFadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 0.7;
    transform: translateY(0);
  }
}

.animate-saved-badge {
  animation: savedBadgeFadeIn 0.4s ease-out forwards;
}

/* Task badge sliding animation */
.task-badges-container {
  position: relative;
  display: flex;
  align-items: baseline;
  gap: 0.5rem;
  justify-content: flex-end;
  min-width: 0;
}

/* Initially hide all badges except status */
.task-badges-container > *:not(.status-badge) {
  max-width: 0;
  opacity: 0;
  overflow: hidden;
  margin: 0;
  padding: 0;
  transition: max-width 0.3s ease, opacity 0.2s ease, margin 0.3s ease, padding 0.3s ease;
}

/* On hover, reveal other badges and slide status left */
.group:hover .task-badges-container > *:not(.status-badge) {
  max-width: 100px;
  opacity: 1;
  transition: max-width 0.3s ease 0.5s, opacity 0.2s ease 0.5s, margin 0.3s ease 0.5s, padding 0.3s ease 0.5s;
}

/* Status badge animation - starts at right, slides left on hover */
.task-badges-container .status-badge {
  transition: all 0.3s ease;
  transition-delay: 0s;
}

.group:hover .task-badges-container .status-badge {
  transition-delay: 0.5s;
}

/* On Today page, hide status badge initially */
.task-badges-container .today-status {
  max-width: 0;
  opacity: 0;
  overflow: hidden;
  margin: 0;
  padding: 0;
  transition: max-width 0.3s ease, opacity 0.2s ease, margin 0.3s ease, padding 0.3s ease;
}

/* On Today page hover, reveal status badge after delay */
.group:hover .task-badges-container .today-status {
  max-width: 100px;
  opacity: 1;
  transition: max-width 0.3s ease 0.5s, opacity 0.2s ease 0.5s, margin 0.3s ease 0.5s, padding 0.3s ease 0.5s;
}

/* Claude-style loading animation - innovative wave bounce */
@keyframes loadingWave {
  0%, 60%, 100% {
    transform: translateY(0) scale(1);
    opacity: 0.4;
  }
  30% {
    transform: translateY(-8px) scale(1.1);
    opacity: 1;
  }
}

.animate-loading-wave {
  animation: loadingWave 1.4s ease-in-out infinite;
}

/* ============================================
   EXPANDED VIEW UI MODE
   Distraction-free, full-width reading experience
   ============================================ */

.ui-expanded {
  /* Spacious sizing variables */
  --font-size-base: 16px;
  --font-size-sm: 14px;
  --font-size-xs: 13px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;

  --spacing-unit: 1.5rem;
  --spacing-xs: 0.75rem;
  --spacing-sm: 1rem;
  --spacing-md: 1.5rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;

  --line-height-normal: 1.7;
  --line-height-relaxed: 1.8;
}

/* Apply spacious sizing to body */
.ui-expanded {
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
}

/* Generous spacing for reading comfort */
.ui-expanded .p-4 { padding: 1.25rem !important; }
.ui-expanded .p-6 { padding: 2rem !important; }
.ui-expanded .p-8 { padding: 2.5rem !important; }

.ui-expanded .px-4 { padding-left: 1.25rem !important; padding-right: 1.25rem !important; }
.ui-expanded .px-6 { padding-left: 2rem !important; padding-right: 2rem !important; }

.ui-expanded .py-4 { padding-top: 1.25rem !important; padding-bottom: 1.25rem !important; }
.ui-expanded .py-6 { padding-top: 2rem !important; padding-bottom: 2rem !important; }

.ui-expanded .gap-4 { gap: 1.25rem !important; }
.ui-expanded .gap-6 { gap: 2rem !important; }

/* Larger, comfortable text sizes */
.ui-expanded .text-xs { font-size: var(--font-size-xs) !important; }
.ui-expanded .text-sm { font-size: var(--font-size-sm) !important; }
.ui-expanded .text-base { font-size: var(--font-size-base) !important; }
.ui-expanded .text-lg { font-size: var(--font-size-lg) !important; }
.ui-expanded .text-xl { font-size: var(--font-size-xl) !important; }

/* Increase editor text size for comfortable reading */
.ui-expanded .editor-input {
  font-size: 17px !important;
  line-height: 1.8 !important;
}

/* Remove all card-like styling */
.ui-expanded .note-card-container {
  background: var(--color-bg-primary) !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* Full-width content area */
.ui-expanded .main-content-area {
  max-width: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Content wrapper with optimal reading width */
.ui-expanded .note-content-wrapper {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 120px; /* Generous horizontal padding */
}

/* Editor gets full width but text stays centered */
.ui-expanded .editor-container {
  max-width: none !important;
  width: 100%;
}

/* Log page container - responsive width, no overflow */
.log-page-container {
  max-width: 896px;
  width: 100%;
}

/* Expand LogPage content in expanded view */
.ui-expanded .log-page-container {
  max-width: 1400px !important;
  width: 100% !important;
}

/* Hide breadcrumb navigation in expanded mode */
.ui-expanded .breadcrumb-nav {
  opacity: 0.3;
  transition: opacity 0.2s ease;
}

.ui-expanded .breadcrumb-nav:hover {
  opacity: 1;
}

/* Minimize visual distractions */
.ui-expanded .note-border,
.ui-expanded .section-divider {
  border-color: transparent !important;
}

/* Keep scrollbars subtle */
.ui-expanded::-webkit-scrollbar {
  width: 6px;
}

.ui-expanded::-webkit-scrollbar-thumb {
  background: var(--color-border-secondary);
  border-radius: 3px;
}

/* Fade borders between sections */
.ui-expanded .border-border-primary {
  border-color: rgba(0, 0, 0, 0.05) !important;
}

.ui-expanded.dark .border-border-primary {
  border-color: rgba(255, 255, 255, 0.05) !important;
}

/* Seamless background */
.ui-expanded .bg-bg-secondary,
.ui-expanded .bg-bg-elevated {
  background: var(--color-bg-primary) !important;
}

/* Minimal shadows */
.ui-expanded * {
  box-shadow: none !important;
}

/* ============================================
   MINDMAP PREVIEW STYLING
   Ensure mindmap text is visible in preview
   ============================================ */

/* Style mindmap text in preview to match editor text color */
.mindmap-preview svg text,
.mindmap-preview svg tspan {
  fill: var(--color-editor-text) !important;
  color: var(--color-editor-text) !important;
  font-family: inherit !important;
}

/* Ensure SVG container displays properly */
.mindmap-preview svg {
  display: block !important;
  width: 100% !important;
  height: 100% !important;
  min-height: 400px !important;
}

/* Style mindmap nodes and paths */
.mindmap-preview .markmap-node {
  cursor: pointer;
}

.mindmap-preview path {
  stroke: var(--color-border-primary) !important;
  fill: none !important;
}

/* Foreign object content in mindmap (HTML elements) */
.mindmap-preview foreignObject {
  overflow: visible !important;
}

.mindmap-preview foreignObject div,
.mindmap-preview foreignObject span {
  color: var(--color-editor-text) !important;
  font-family: inherit !important;
}